import{_ as r}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as l,o,c as u,a as e,b as n,d as t,e as i}from"./app-MsA2k2kn.js";const d={},c=e("h1",{id:"深度学习-ubuntu18-04配置深度学习环境笔记",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#深度学习-ubuntu18-04配置深度学习环境笔记","aria-hidden":"true"},"#"),n(" [深度学习] ubuntu18.04配置深度学习环境笔记")],-1),s={href:"https://blog.csdn.net/qq_32408773/article/details/84112166",target:"_blank",rel:"noopener noreferrer"},p={href:"https://blog.csdn.net/abcdefg90876/article/details/105781005/",target:"_blank",rel:"noopener noreferrer"},_=e("h2",{id:"_1-nvidia驱动安装",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-nvidia驱动安装","aria-hidden":"true"},"#"),n(" 1 nvidia驱动安装")],-1),h=e("strong",null,"本文方法不需要禁止，我没有禁用这个nouveau驱动",-1),g={href:"https://blog.csdn.net/qq_32408773/article/details/84111244",target:"_blank",rel:"noopener noreferrer"},b=e("p",null,"nvidia驱动先通过以下命令查看你的系统支持的版本：",-1),m=e("blockquote",null,[e("p",null,"ubuntu-drivers devices")],-1),v=e("p",null,[n("结果如下所示： "),e("img",{src:"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/1.jpg",alt:"",loading:"lazy"})],-1),f={href:"https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html",target:"_blank",rel:"noopener noreferrer"},x=i(`<p>如下图所示，可以看到要安装的nvidia-driver-455符合cuda10.2的版本要求。</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/2.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>然后就是直接输入命令安装了，不需要自己下载驱动。命令如下：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo apt-get purge nvidia* 
sudo add-apt-repository ppa:graphics-drivers/ppa 
sudo apt-get update 
sudo apt-get install nvidia-driver-455
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>应该是傻瓜式安装，安装完后直接重启系统。</p><blockquote><p>sudo reboot</p></blockquote><h2 id="_2-cuda10-2安装" tabindex="-1"><a class="header-anchor" href="#_2-cuda10-2安装" aria-hidden="true">#</a> 2 CUDA10.2安装</h2>`,7),D={href:"https://developer.nvidia.com/cuda-toolkit-archive",target:"_blank",rel:"noopener noreferrer"},k=e("figure",null,[e("img",{src:"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/3.jpg",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),C=e("p",null,"打开版本页面后，选择系统和版本信息。这里选择runfile安装，如下所示：",-1),A=e("figure",null,[e("img",{src:"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/4.jpg",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),U=e("p",null,[e("strong",null,"这个cuda安装包国内下载可能会很慢，可以复制wget后面的下载链接，用迅雷、IDM等下载工具先行下载。")],-1),N=e("strong",null,"如果以上方式还是下载太慢或者下载失败，可以找找网上别人的分享镜像。",-1),j={href:"https://blog.csdn.net/xhamigua/article/details/107028062",target:"_blank",rel:"noopener noreferrer"},w=i(`<blockquote><p>https://pan.baidu.com/s/14Qof5CVRUmeDMFgjBKGCjw 提取码：8488</p></blockquote><p>下载完成后直接输入</p><blockquote><p>sudo sh cuda_10.2.89_440.33.01_linux.run</p></blockquote><p><strong>在安装cuda的时候不要选择安装驱动，其他默认，就可以了。</strong></p><p>安装成功后再添加环境变量，先用vim命令打开~/.bashrc文件。再最后添加如下命令就行了：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>## cuda环境变量
export CUDA_HOME=/usr/local/cuda 
export PATH=$PATH:$CUDA_HOME/bin 
export LD_LIBRARY_PATH=/usr/local/cuda-10.0/lib64\${LD_LIBRARY_PATH:+:\${LD_LIBRARY_PATH}}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当然可以看看是否安装成功，输入nvidia-smi看看显卡驱动是否安装成功，然后输入nvcc -V可以看到cuda版本。</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/5.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_3-cudnn安装" tabindex="-1"><a class="header-anchor" href="#_3-cudnn安装" aria-hidden="true">#</a> 3 cudnn安装</h2>`,9),y={href:"https://developer.nvidia.com/rdp/cudnn-archive",target:"_blank",rel:"noopener noreferrer"},q=i(`<figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/6.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>本文用的是7.6.5版本，下载需要注册账号，很容易搞定。然后点击其中的cuDNN library for Linux即可。</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/7.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>下载完成后，解压文件。进入解压后的cuda文件夹，输入以下命令，cudnn就算安装好了。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sudo cp cuda/include/cudnn.h /usr/local/cuda/include/ 
sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64/ 
sudo chmod a+r /usr/local/cuda/include/cudnn.h 
sudo chmod a+r /usr/local/cuda/lib64/libcudnn*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过以下命令查看cudnn版本：</p><blockquote><p>cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</p></blockquote><p>根据输出可以判断cudnn版本为7.6.5.</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/8.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_4-参考" tabindex="-1"><a class="header-anchor" href="#_4-参考" aria-hidden="true">#</a> 4 参考</h2>`,10),I={href:"https://blog.csdn.net/qq_32408773/article/details/84112166",target:"_blank",rel:"noopener noreferrer"},V={href:"https://blog.csdn.net/abcdefg90876/article/details/105781005/",target:"_blank",rel:"noopener noreferrer"},L={href:"https://blog.csdn.net/qq_32408773/article/details/84111244",target:"_blank",rel:"noopener noreferrer"},S={href:"https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html",target:"_blank",rel:"noopener noreferrer"},z={href:"https://developer.nvidia.com/cuda-toolkit-archive",target:"_blank",rel:"noopener noreferrer"},R={href:"https://blog.csdn.net/xhamigua/article/details/107028062",target:"_blank",rel:"noopener noreferrer"},T={href:"https://developer.nvidia.com/rdp/cudnn-archive",target:"_blank",rel:"noopener noreferrer"};function B(H,E){const a=l("ExternalLinkIcon");return o(),u("div",null,[c,e("p",null,[n("最近装过很多ubuntu18.04系统的nvidia驱动，cuda10.2，cudnn7.6.5，发现每次都会出现一些小问题。总结了具体步骤，做个记录。主要分为三个步骤：驱动安装，cuda安装，cudnn安装。本文主要参考了博客"),e("a",s,[n("Ubuntu18.04安装CUDA10、CUDNN"),t(a)]),n("和"),e("a",p,[n("Ubuntu18.04+CUDA10.2 深度学习开发环境配置指南"),t(a)]),n("。本文也适用于其他linux系统安装不同版本cuda,cudnn。")]),_,e("p",null,[n("安装驱动前，最好禁用nouveau驱动，这一步是建议，也可以不做。"),h,n("。禁用的教程见："),e("a",g,[n("Ubuntu下安装INVIDIA显卡驱动（避免循环登录问题） "),t(a)])]),b,m,v,e("p",null,[n("一般情况下是安装红线对应的recommend驱动，但是如果不是安装cuda10.2需要查看cuda版本和nvidia驱动版本是否对应。具体查看"),e("a",f,[n("CUDA Toolkit and Compatible Driver Versions"),t(a)]),n("就有相关说明。")]),x,e("p",null,[n("本文安装的是cuda10.2版本。进入"),e("a",D,[n("CUDA历史版本下载页面"),t(a)]),n("。进去后先点击要安装的版本页面，")]),k,C,A,U,e("p",null,[N,n(" 比如"),e("a",j,[n("CUDA下载分享"),t(a)]),n("这篇文章(可能cuda版本不全)就有cuda百度网盘分享地址。如下：")]),w,e("p",null,[n("直接打开"),e("a",y,[n("cudnn历史版本下载页面"),t(a)]),n("选择对应的版本。一般来说cuda版本和cudnn版本并不是一一对应的。只要符合cuda版本要求的cudnn版本都行。")]),q,e("ul",null,[e("li",null,[e("p",null,[e("a",I,[n("Ubuntu18.04安装CUDA10、CUDNN"),t(a)])])]),e("li",null,[e("p",null,[e("a",V,[n("Ubuntu18.04+CUDA10.2 深度学习开发环境配置指南"),t(a)])])]),e("li",null,[e("p",null,[e("a",L,[n("Ubuntu下安装INVIDIA显卡驱动（避免循环登录问题）"),t(a)])])]),e("li",null,[e("p",null,[e("a",S,[n("CUDA Toolkit and Compatible Driver Versions"),t(a)])])]),e("li",null,[e("p",null,[e("a",z,[n("CUDA历史版本下载页面"),t(a)])])]),e("li",null,[e("p",null,[e("a",R,[n("CUDA下载分享"),t(a)])])]),e("li",null,[e("p",null,[e("a",T,[n("cudnn历史版本下载页面"),t(a)])])])])])}const $=r(d,[["render",B],["__file","2021-01-14-_深度学习_ ubuntu18.04配置深度学习环境笔记.html.vue"]]);export{$ as default};
