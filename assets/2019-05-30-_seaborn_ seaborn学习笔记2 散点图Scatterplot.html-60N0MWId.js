import{_ as t}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as e,o as p,c as o,a as n,b as s,d as l,e as c}from"./app-MsA2k2kn.js";const i={},u=n("h1",{id:"seaborn-seaborn学习笔记2-散点图scatterplot",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#seaborn-seaborn学习笔记2-散点图scatterplot","aria-hidden":"true"},"#"),s(" [seaborn] seaborn学习笔记2 散点图Scatterplot")],-1),r={href:"https://github.com/luohenyueji/Python-Study-Notes/tree/master/Seaborn%20Study",target:"_blank",rel:"noopener noreferrer"},d=c(`<ol><li>基础散点图绘制 Basic scatterplot</li><li>更改标记参数 Control marker features</li><li>自定义线性回归拟合 Custom linear regression fit</li><li>使用分类变量为散点图着色 Use categorical variable to color scatterplot</li><li>坐标轴范围设置 Control axis limits of plot</li><li>在散点图上添加文本注释 Add text annotation on scatterplot</li><li>自定义相关图 Custom correlogram</li></ol><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment">#调用seaborn</span>
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token comment">#调用seaborn自带数据集</span>
df <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">&#39;iris&#39;</span><span class="token punctuation">)</span>
<span class="token comment">#显示数据集</span>
df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div><table><thead><tr><th></th><th>sepal_length</th><th>sepal_width</th><th>petal_length</th><th>petal_width</th><th>species</th></tr></thead><tbody><tr><th>0</th><td>5.1</td><td>3.5</td><td>1.4</td><td>0.2</td><td>setosa</td></tr><tr><th>1</th><td>4.9</td><td>3.0</td><td>1.4</td><td>0.2</td><td>setosa</td></tr><tr><th>2</th><td>4.7</td><td>3.2</td><td>1.3</td><td>0.2</td><td>setosa</td></tr><tr><th>3</th><td>4.6</td><td>3.1</td><td>1.5</td><td>0.2</td><td>setosa</td></tr><tr><th>4</th><td>5.0</td><td>3.6</td><td>1.4</td><td>0.2</td><td>setosa</td></tr></tbody></table></div><h2 id="_1-基础散点图绘制-basic-scatterplot" tabindex="-1"><a class="header-anchor" href="#_1-基础散点图绘制-basic-scatterplot" aria-hidden="true">#</a> 1.基础散点图绘制 Basic scatterplot</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 使用regplot（）函数制作散点图。您必须提供至少2个列表：X轴和Y轴上的点的位置。</span>
<span class="token comment"># 默认情况下绘制线性回归拟合直线，可以使用fit_reg = False将其删除</span>
<span class="token comment"># use the function regplot to make a scatterplot 有回归曲线</span>
<span class="token comment"># scipy&lt;1.2会有warning</span>
sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\scipy\\stats\\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use \`arr[tuple(seq)]\` instead of \`arr[seq]\`. In the future this will be interpreted as an array index, \`arr[np.array(seq)]\`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_3_1.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Without regression fit 无回归曲线</span>
sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_4_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_2-更改标记参数-control-marker-features" tabindex="-1"><a class="header-anchor" href="#_2-更改标记参数-control-marker-features" aria-hidden="true">#</a> 2. 更改标记参数 Control marker features</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 可以散点图自定义颜色，透明度，形状和大小</span>
<span class="token comment"># Change shape of marker控制散点的形状</span>
sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_6_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># List of available shapes 可用的形状查看</span>
<span class="token keyword">import</span> matplotlib
all_shapes<span class="token operator">=</span>matplotlib<span class="token punctuation">.</span>markers<span class="token punctuation">.</span>MarkerStyle<span class="token punctuation">.</span>markers<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>
all_shapes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>dict_keys([&#39;.&#39;, &#39;,&#39;, &#39;o&#39;, &#39;v&#39;, &#39;^&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;8&#39;, &#39;s&#39;, &#39;p&#39;, &#39;*&#39;, &#39;h&#39;, &#39;H&#39;, &#39;+&#39;, &#39;x&#39;, &#39;D&#39;, &#39;d&#39;, &#39;|&#39;, &#39;_&#39;, &#39;P&#39;, &#39;X&#39;, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, &#39;None&#39;, None, &#39; &#39;, &#39;&#39;])
</code></pre><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># More marker customization,更具scatter_kws参数控制颜色，透明度，点的大小</span>
sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;darkred&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;alpha&quot;</span><span class="token punctuation">:</span><span class="token number">0.3</span><span class="token punctuation">,</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_8_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_3-自定义线性回归拟合-custom-linear-regression-fit" tabindex="-1"><a class="header-anchor" href="#_3-自定义线性回归拟合-custom-linear-regression-fit" aria-hidden="true">#</a> 3. 自定义线性回归拟合 Custom linear regression fit</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 您可以自定义seaborn提出的回归拟合的外观。在此示例中，颜色，透明度和宽度通过line_kws = {}选项进行控制。</span>
sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>x<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> line_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;alpha&quot;</span><span class="token punctuation">:</span><span class="token number">0.7</span><span class="token punctuation">,</span><span class="token string">&quot;lw&quot;</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_10_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_4-使用分类变量为散点图着色-use-categorical-variable-to-color-scatterplot" tabindex="-1"><a class="header-anchor" href="#_4-使用分类变量为散点图着色-use-categorical-variable-to-color-scatterplot" aria-hidden="true">#</a> 4. 使用分类变量为散点图着色 Use categorical variable to color scatterplot</h2><ul><li>每组映射一种颜色 Map a color per group</li><li>每组映射一个标记 Map a marker per group</li><li>使用其他调色板 Use another palette</li><li>控制每组的颜色 Control color of each group</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 每组映射一种颜色 Map a color per group</span>
<span class="token comment"># Use the &#39;hue&#39; argument to provide a factor variable hue设置species不同种类的的颜色</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span> x<span class="token operator">=</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&#39;species&#39;</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># Move the legend to an empty part of the plot 需要通过matplotlib更改legend的位置</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token string">&#39;best&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_12_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 每组映射一个标记 Map a marker per group</span>
<span class="token comment"># give a list to the marker argument 通过hue设定颜色，markes设定各点的形状</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span> x<span class="token operator">=</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&#39;species&#39;</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;o&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># Move the legend to an empty part of the plot</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token string">&#39;lower right&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_13_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 使用其他调色板 Use another palette</span>
<span class="token comment"># Use the &#39;palette&#39; argument 不同种类设定不同的颜色，颜色类型使用palette设定调色板颜色</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span> x<span class="token operator">=</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&#39;species&#39;</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;Set2&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Move the legend to an empty part of the plot</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token string">&#39;lower right&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_14_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 控制每组的颜色 Control color of each group</span>
<span class="token comment"># Provide a dictionary to the palette argument 调色盘使用自定义颜色</span>
dict_color<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>setosa<span class="token operator">=</span><span class="token string">&quot;#9b59b6&quot;</span><span class="token punctuation">,</span> virginica<span class="token operator">=</span><span class="token string">&quot;#3498db&quot;</span><span class="token punctuation">,</span> versicolor<span class="token operator">=</span><span class="token string">&quot;#95a5a6&quot;</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span> x<span class="token operator">=</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&#39;species&#39;</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>dict_color<span class="token punctuation">)</span>
<span class="token comment"># Move the legend to an empty part of the plot</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token string">&#39;lower right&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_15_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_5-坐标轴范围设置-control-axis-limits-of-plot" tabindex="-1"><a class="header-anchor" href="#_5-坐标轴范围设置-control-axis-limits-of-plot" aria-hidden="true">#</a> 5. 坐标轴范围设置 Control axis limits of plot</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># basic scatterplot</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span> x<span class="token operator">=</span><span class="token string">&quot;sepal_length&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;sepal_width&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token comment"># control x and y limits 设置轴的范围，不过需要调用matplotlib.pyplot 模块，通常都是matplotlib和seaborn一起用</span>
plt<span class="token punctuation">.</span>ylim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xlim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>(0, 8.122715679666298)
</code></pre><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_17_1.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_6-在散点图上添加文本注释-add-text-annotation-on-scatterplot" tabindex="-1"><a class="header-anchor" href="#_6-在散点图上添加文本注释-add-text-annotation-on-scatterplot" aria-hidden="true">#</a> 6. 在散点图上添加文本注释 Add text annotation on scatterplot</h2><ul><li>添加一个注释 Add one annotation</li><li>添加多个注释 Use a loop to annotate each marker</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 添加一个注释 Add one annotation</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd 
<span class="token comment"># 制作数据集</span>
df_test <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&#39;x&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&#39;y&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&#39;group&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;other group&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;C&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;D&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment"># 画散点图</span>
p1<span class="token operator">=</span>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df_test<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">&quot;o&quot;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;skyblue&quot;</span><span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;s&#39;</span><span class="token punctuation">:</span><span class="token number">400</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 添加注释</span>
p1<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">4.5</span><span class="token punctuation">,</span> <span class="token string">&quot;An annotation&quot;</span><span class="token punctuation">,</span> horizontalalignment<span class="token operator">=</span><span class="token string">&#39;left&#39;</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">&#39;medium&#39;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token string">&#39;semibold&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>Text(3.2, 4.5, &#39;An annotation&#39;)
</code></pre><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_19_1.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 添加多个注释 Use a loop to annotate each marker</span>
<span class="token comment"># basic plot</span>
p1<span class="token operator">=</span>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df_test<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> fit_reg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">&quot;o&quot;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;skyblue&quot;</span><span class="token punctuation">,</span> scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;s&#39;</span><span class="token punctuation">:</span><span class="token number">400</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment"># add annotations one by one with a loop</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>df_test<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
     p1<span class="token punctuation">.</span>text<span class="token punctuation">(</span>df_test<span class="token punctuation">.</span>x<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">0.2</span><span class="token punctuation">,</span> df_test<span class="token punctuation">.</span>y<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token punctuation">,</span> df_test<span class="token punctuation">.</span>group<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token punctuation">,</span> horizontalalignment<span class="token operator">=</span><span class="token string">&#39;left&#39;</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">&#39;medium&#39;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;black&#39;</span><span class="token punctuation">,</span> weight<span class="token operator">=</span><span class="token string">&#39;semibold&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_20_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_7-自定义相关图-custom-correlogram" tabindex="-1"><a class="header-anchor" href="#_7-自定义相关图-custom-correlogram" aria-hidden="true">#</a> 7. 自定义相关图 Custom correlogram</h2><ul><li>有回归方程的散点相关图 correlogram with regression</li><li>无回归方程的散点相关图 correlogram without regression</li><li>在相关图上表示组 Represent groups on correlogram</li><li>相关图子图设置 Kind of plot for the diagonal subplots</li><li>子图参数设置 parameters adjustment of subplots</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 有回归方程的散点相关图 correlogram with regression</span>
<span class="token comment"># library &amp; dataset</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
df <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">&#39;iris&#39;</span><span class="token punctuation">)</span>
 
<span class="token comment"># with regression 有回归方程的散点相关图</span>
<span class="token comment"># 正对角线上的图表示数据频次的直方图，其他表示散点图</span>
sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;reg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_22_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 无回归方程的散点相关图 correlogram without regression </span>
sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;scatter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_23_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 在相关图上表示组 Represent groups on correlogram</span>
<span class="token comment"># 通过hue设定种类，markers不同种类的点的表示方式</span>
<span class="token comment"># 对角线为核密度图</span>
sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;scatter&quot;</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;species&quot;</span><span class="token punctuation">,</span> markers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;o&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;Set2&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>&lt;seaborn.axisgrid.PairGrid at 0x21cc5179710&gt;
</code></pre><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_24_1.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 在相关图上表示组 Represent groups on correlogram</span>
<span class="token comment"># you can give other arguments with plot_kws  plot_kws更改散点图的参数</span>
sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;scatter&quot;</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;species&quot;</span><span class="token punctuation">,</span>plot_kws<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>s<span class="token operator">=</span><span class="token number">80</span><span class="token punctuation">,</span> edgecolor<span class="token operator">=</span><span class="token string">&quot;white&quot;</span><span class="token punctuation">,</span> linewidth<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_25_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 相关图子图设置 Kind of plot for the diagonal subplots</span>
<span class="token comment"># diag_kind有auto，hist,kde选项，hist为直方图，kde为散点图</span>
sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> diag_kind<span class="token operator">=</span><span class="token string">&quot;hist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_26_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment">#  子图参数设置 parameters adjustment of subplots</span>
<span class="token comment"># You can custom it as a density plot or histogram so see the related sections 通过diag_kws调整子图参数</span>
sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> diag_kind<span class="token operator">=</span><span class="token string">&quot;kde&quot;</span><span class="token punctuation">,</span> diag_kws<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> bw<span class="token operator">=</span><span class="token number">.05</span><span class="token punctuation">,</span> vertical<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/2 散点图SCATTERPLOT/output_27_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure>`,55);function k(g,m){const a=e("ExternalLinkIcon");return p(),o("div",null,[u,n("p",null,[n("a",r,[s("(代码下载)"),l(a)]),s(" 散点图能够显示2个维度上2组数据的值。每个点代表一个观察点。X（水平）和Y（垂直）轴上的位置表示变量的值。研究这两个变量之间的关系是非常有用的。在seaborn中通过regplot和lmplot制作散点图，regplot和lmplot核心功能相近，regplot相对简单点，如果要定制图像更深层次功能，需要使用lmplot。此外也用Pairplot制作多变量图。该章节主要内容有：")]),d])}const v=t(i,[["render",k],["__file","2019-05-30-_seaborn_ seaborn学习笔记2 散点图Scatterplot.html.vue"]]);export{v as default};
