import{_ as t}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as p,o as e,c as o,a as n,b as s,d as c,e as l}from"./app-MsA2k2kn.js";const i={},u=n("h1",{id:"seaborn-seaborn学习笔记9-绘图实例-1-drawing-example-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#seaborn-seaborn学习笔记9-绘图实例-1-drawing-example-1","aria-hidden":"true"},"#"),s(" [seaborn] seaborn学习笔记9 绘图实例(1) Drawing example(1)")],-1),r={href:"https://github.com/luohenyueji/Python-Study-Notes/tree/master/Seaborn%20Study",target:"_blank",rel:"noopener noreferrer"},k=l(`<ol><li>Anscombe’s quartet(lmplot)</li><li>Color palette choices(barplot)</li><li>Different cubehelix palettes(kdeplot)</li><li>Distribution plot options(distplot)</li><li>Timeseries plot with error bands(lineplot)</li><li>FacetGrid with custom projection(FacetGrid)</li><li>Facetting histograms by subsets of data(FacetGrid)</li><li>Line plots on multiple facets(relplot)</li><li>Grouped barplots(catplot)</li><li>Grouped boxplots(boxplot)</li></ol><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># import packages</span>
<span class="token comment"># from IPython.core.interactiveshell import InteractiveShell</span>
<span class="token comment"># InteractiveShell.ast_node_interactivity = &quot;all&quot; </span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;ticks&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-anscombe-s-quartet-lmplot" tabindex="-1"><a class="header-anchor" href="#_1-anscombe-s-quartet-lmplot" aria-hidden="true">#</a> 1. Anscombe’s quartet(lmplot)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Load the example dataset for Anscombe&#39;s quartet</span>
df <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">&quot;anscombe&quot;</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Show the results of a linear regression within each dataset 显示各组的回归拟合结果</span>
<span class="token comment"># col确认分组类别，hue设置绘图颜色类别.col_wrap设置每行多少图像</span>
<span class="token comment"># ci置信区间大小，palette颜色设置,height设置每张图的尺寸</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;y&quot;</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">&quot;dataset&quot;</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;dataset&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span>
           col_wrap<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;muted&quot;</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>
           scatter_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&quot;alpha&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_3_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_2-color-palette-choices-barplot" tabindex="-1"><a class="header-anchor" href="#_2-color-palette-choices-barplot" aria-hidden="true">#</a> 2. Color palette choices(barplot)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment">#context控制上下文本参数</span>
sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;white&quot;</span><span class="token punctuation">,</span> context<span class="token operator">=</span><span class="token string">&quot;talk&quot;</span><span class="token punctuation">)</span>
rs <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>RandomState<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token comment"># Set up the matplotlib figure 设置matplotlib绘图参数</span>
f<span class="token punctuation">,</span> <span class="token punctuation">(</span>ax1<span class="token punctuation">,</span> ax2<span class="token punctuation">,</span> ax3<span class="token punctuation">)</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sharex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># Generate some sequential data 建立数据集</span>
x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">&quot;ABCDEFGHIJ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
y1 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>

<span class="token comment"># 第一个条形图</span>
sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y1<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;rocket&quot;</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>ax1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 绘制平行于x轴的水平参考线</span>
ax1<span class="token punctuation">.</span>axhline<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">,</span> clip_on<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
<span class="token comment"># 添加标签</span>
ax1<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&quot;Sequential&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Center the data to make it diverging</span>
y2 <span class="token operator">=</span> y1 <span class="token operator">-</span> <span class="token number">5.5</span>
sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y2<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;vlag&quot;</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>ax2<span class="token punctuation">)</span>
ax2<span class="token punctuation">.</span>axhline<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">,</span> clip_on<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
ax2<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&quot;Diverging&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Randomly reorder the data to make it qualitative 生成数据</span>
y3 <span class="token operator">=</span> rs<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>y1<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>y1<span class="token punctuation">)</span><span class="token punctuation">,</span> replace<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y3<span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;deep&quot;</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>ax3<span class="token punctuation">)</span>
ax3<span class="token punctuation">.</span>axhline<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;k&quot;</span><span class="token punctuation">,</span> clip_on<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
ax3<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">&quot;Qualitative&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Finalize the plot 绘图最后参数调整</span>
<span class="token comment"># 去掉了上、右和下边界。注意，这里despine()函数默认会去除上方和右侧的边界，</span>
<span class="token comment"># 如果想要去掉左边和下方的边界，就需要额外指定left=True, bottom=True</span>
sns<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>bottom<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 去除了所有的纵轴刻度尺</span>
plt<span class="token punctuation">.</span>setp<span class="token punctuation">(</span>f<span class="token punctuation">.</span>axes<span class="token punctuation">,</span> yticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># ight_layout设置了每行坐标轴（子图）之间的间隔，h_pad确定上下间隔</span>
plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span>h_pad<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_5_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_3-different-cubehelix-palettes-kdeplot" tabindex="-1"><a class="header-anchor" href="#_3-different-cubehelix-palettes-kdeplot" aria-hidden="true">#</a> 3. Different cubehelix palettes(kdeplot)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;dark&quot;</span><span class="token punctuation">)</span>
rs <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>RandomState<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>

<span class="token comment"># Set up the matplotlib figure 设置图像</span>
f<span class="token punctuation">,</span> axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sharex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> sharey<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># Rotate the starting point around the cubehelix hue circle</span>
<span class="token keyword">for</span> ax<span class="token punctuation">,</span> s <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>axes<span class="token punctuation">.</span>flat<span class="token punctuation">,</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># Create a cubehelix colormap to use with kdeplot 颜色设置</span>
    cmap <span class="token operator">=</span> sns<span class="token punctuation">.</span>cubehelix_palette<span class="token punctuation">(</span>start<span class="token operator">=</span>s<span class="token punctuation">,</span> light<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> as_cmap<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token comment"># Generate and plot a random bivariate dataset</span>
    x<span class="token punctuation">,</span> y <span class="token operator">=</span> rs<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token comment"># 核函数估计图制作</span>
    sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> cut<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

f<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>C:\\ProgramData\\Anaconda3\\lib\\site-packages\\scipy\\stats\\stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use \`arr[tuple(seq)]\` instead of \`arr[seq]\`. In the future this will be interpreted as an array index, \`arr[np.array(seq)]\`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</code></pre><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_7_1.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_4-distribution-plot-options-distplot" tabindex="-1"><a class="header-anchor" href="#_4-distribution-plot-options-distplot" aria-hidden="true">#</a> 4. Distribution plot options(distplot)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;white&quot;</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;muted&quot;</span><span class="token punctuation">,</span> color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
rs <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>RandomState<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment"># Set up the matplotlib figure 设置matplolitlib参数</span>
f<span class="token punctuation">,</span> axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sharex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 去除边框</span>
sns<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># Generate a random univariate dataset</span>
d <span class="token operator">=</span> rs<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>

<span class="token comment"># Plot a simple histogram with binsize determined automatically  直方图</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>d<span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># Plot a kernel density estimate and rug plot 画核密度曲线</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>d<span class="token punctuation">,</span> hist<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># Plot a filled kernel density estimate</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>d<span class="token punctuation">,</span> hist<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;g&quot;</span><span class="token punctuation">,</span> kde_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;shade&quot;</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">}</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># Plot a historgram and kernel density estimate</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>d<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;m&quot;</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 隐藏y轴</span>
plt<span class="token punctuation">.</span>setp<span class="token punctuation">(</span>axes<span class="token punctuation">,</span> yticks<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>tight_layout<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_9_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_5-timeseries-plot-with-error-bands-lineplot" tabindex="-1"><a class="header-anchor" href="#_5-timeseries-plot-with-error-bands-lineplot" aria-hidden="true">#</a> 5. Timeseries plot with error bands(lineplot)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;darkgrid&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Load an example dataset with long-form data</span>
fmri <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">&quot;fmri&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Plot the responses for different events and regions 线条图</span>
sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;timepoint&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;signal&quot;</span><span class="token punctuation">,</span>
             hue<span class="token operator">=</span><span class="token string">&quot;region&quot;</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">,</span>
             <span class="token comment">#置信区间设置</span>
             <span class="token comment">#ci=None,</span>
             data<span class="token operator">=</span>fmri<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_11_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_6-facetgrid-with-custom-projection-facetgrid" tabindex="-1"><a class="header-anchor" href="#_6-facetgrid-with-custom-projection-facetgrid" aria-hidden="true">#</a> 6. FacetGrid with custom projection(FacetGrid)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Generate an example radial datast 随机生成数据</span>
r <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> num<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&#39;r&#39;</span><span class="token punctuation">:</span> r<span class="token punctuation">,</span> <span class="token string">&#39;slow&#39;</span><span class="token punctuation">:</span> r<span class="token punctuation">,</span> <span class="token string">&#39;medium&#39;</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token operator">*</span> r<span class="token punctuation">,</span> <span class="token string">&#39;fast&#39;</span><span class="token punctuation">:</span> <span class="token number">4</span> <span class="token operator">*</span> r<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment"># Convert the dataframe to long-form or &quot;tidy&quot; format</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>melt<span class="token punctuation">(</span>df<span class="token punctuation">,</span> id_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;r&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> var_name<span class="token operator">=</span><span class="token string">&#39;speed&#39;</span><span class="token punctuation">,</span> value_name<span class="token operator">=</span><span class="token string">&#39;theta&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># Set up a grid of axes with a polar projection 建立坐标轴</span>
<span class="token comment"># col表示使用什么分图，这里是speed，并用hue设置不同类对应不同颜色</span>
<span class="token comment"># subplot_kws确定坐标类型，这里是极坐标</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>df<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">&quot;speed&quot;</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;speed&quot;</span><span class="token punctuation">,</span>
                  subplot_kws<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>projection<span class="token operator">=</span><span class="token string">&#39;polar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token number">4.5</span><span class="token punctuation">,</span>
                  sharex<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> sharey<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> despine<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>

<span class="token comment"># Draw a scatterplot onto each axes in the grid</span>
<span class="token comment"># 在实例化后的坐标轴上画图</span>
g<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">,</span> <span class="token string">&quot;theta&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_13_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_7-facetgrid-with-custom-projection-facetgrid" tabindex="-1"><a class="header-anchor" href="#_7-facetgrid-with-custom-projection-facetgrid" aria-hidden="true">#</a> 7. FacetGrid with custom projection(FacetGrid)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;darkgrid&quot;</span><span class="token punctuation">)</span>

tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">&quot;tips&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 初始化坐标轴，margin_titles行变量的标题被绘制到最后一列的右侧</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>tips<span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">,</span> margin_titles<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
bins <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">,</span> <span class="token string">&quot;total_bill&quot;</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&quot;steelblue&quot;</span><span class="token punctuation">,</span> bins<span class="token operator">=</span>bins<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_15_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_8-line-plots-on-multiple-facets-relplot" tabindex="-1"><a class="header-anchor" href="#_8-line-plots-on-multiple-facets-relplot" aria-hidden="true">#</a> 8. Line plots on multiple facets(relplot)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;ticks&quot;</span><span class="token punctuation">)</span>

dots <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">&quot;dots&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Define a palette to ensure that colors will be</span>
<span class="token comment"># shared across the facets</span>
<span class="token comment"># 设置颜色</span>
palette <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>dots<span class="token punctuation">.</span>coherence<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token string">&quot;rocket_r&quot;</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Plot the lines on two facets</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;firing_rate&quot;</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">&quot;coherence&quot;</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">&quot;choice&quot;</span><span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">&quot;align&quot;</span><span class="token punctuation">,</span>
            <span class="token comment"># size_order画图顺序</span>
            size_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;T1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;T2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>palette<span class="token punctuation">,</span>
            <span class="token comment"># aspect图的比例,facet_kws每个图参数设置</span>
            height<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">0.75</span><span class="token punctuation">,</span> facet_kws<span class="token operator">=</span><span class="token builtin">dict</span><span class="token punctuation">(</span>sharex<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment"># kind画图类型，legend图例类型</span>
            kind<span class="token operator">=</span><span class="token string">&quot;line&quot;</span><span class="token punctuation">,</span> legend<span class="token operator">=</span><span class="token string">&quot;brief&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>dots<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_17_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_9-grouped-barplots-catplot" tabindex="-1"><a class="header-anchor" href="#_9-grouped-barplots-catplot" aria-hidden="true">#</a> 9. Grouped barplots(catplot)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;whitegrid&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Load the example Titanic dataset 读取数据</span>
titanic <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">&quot;titanic&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Draw a nested barplot to show survival for class and sex</span>
<span class="token comment"># catplot分类数据作图</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;survived&quot;</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;sex&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>titanic<span class="token punctuation">,</span>
                height<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;muted&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 设置轴框</span>
g<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 设置标签</span>
g<span class="token punctuation">.</span>set_ylabels<span class="token punctuation">(</span><span class="token string">&quot;survival probability&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_19_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure><h2 id="_10-grouped-boxplots-boxplot" tabindex="-1"><a class="header-anchor" href="#_10-grouped-boxplots-boxplot" aria-hidden="true">#</a> 10. Grouped boxplots(boxplot)</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">&quot;ticks&quot;</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&quot;pastel&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Load the example tips dataset</span>
tips <span class="token operator">=</span> sns<span class="token punctuation">.</span>load_dataset<span class="token punctuation">(</span><span class="token string">&quot;tips&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Draw a nested boxplot to show bills by day and time</span>
<span class="token comment"># 画箱形图 hue颜色</span>
sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;day&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;total_bill&quot;</span><span class="token punctuation">,</span>
            hue<span class="token operator">=</span><span class="token string">&quot;smoker&quot;</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;m&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            data<span class="token operator">=</span>tips<span class="token punctuation">)</span>
<span class="token comment"># offset 两轴偏移绝对距离,trim只显示主要刻度</span>
sns<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>offset<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>trim<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/Python-Study-Notes/Seaborn-Study/9 绘图实例(1) Drawing example(1)/output_21_0.png" alt="png" tabindex="0" loading="lazy"><figcaption>png</figcaption></figure>`,33);function d(m,b){const a=p("ExternalLinkIcon");return e(),o("div",null,[u,n("p",null,[n("a",r,[s("(代码下载)"),c(a)]),s(" 本文主要讲述seaborn官网相关函数绘图实例。具体内容有：")]),k])}const h=t(i,[["render",d],["__file","2019-06-05-_seaborn_ seaborn学习笔记9 绘图实例(1) Drawing example(1).html.vue"]]);export{h as default};
