import{_ as a,c as n,a as i,o as t}from"./app-HB0Nuzez.js";const r={};function u(l,e){return t(),n("div",null,e[0]||(e[0]=[i(`<h1 id="深度学习-ubuntu18-04配置深度学习环境笔记" tabindex="-1"><a class="header-anchor" href="#深度学习-ubuntu18-04配置深度学习环境笔记"><span>[深度学习] ubuntu18.04配置深度学习环境笔记</span></a></h1><p>最近装过很多ubuntu18.04系统的nvidia驱动，cuda10.2，cudnn7.6.5，发现每次都会出现一些小问题。总结了具体步骤，做个记录。主要分为三个步骤：驱动安装，cuda安装，cudnn安装。本文主要参考了博客<a href="https://blog.csdn.net/qq_32408773/article/details/84112166" target="_blank" rel="noopener noreferrer">Ubuntu18.04安装CUDA10、CUDNN</a>和<a href="https://blog.csdn.net/abcdefg90876/article/details/105781005/" target="_blank" rel="noopener noreferrer">Ubuntu18.04+CUDA10.2 深度学习开发环境配置指南</a>。本文也适用于其他linux系统安装不同版本cuda,cudnn。</p><h2 id="_1-nvidia驱动安装" tabindex="-1"><a class="header-anchor" href="#_1-nvidia驱动安装"><span>1 nvidia驱动安装</span></a></h2><p>安装驱动前，最好禁用nouveau驱动，这一步是建议，也可以不做。<strong>本文方法不需要禁止，我没有禁用这个nouveau驱动</strong>。禁用的教程见：<a href="https://blog.csdn.net/qq_32408773/article/details/84111244" target="_blank" rel="noopener noreferrer">Ubuntu下安装INVIDIA显卡驱动（避免循环登录问题） </a></p><p>nvidia驱动先通过以下命令查看你的系统支持的版本：</p><blockquote><p>ubuntu-drivers devices</p></blockquote><p>结果如下所示： <img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/1.jpg" alt="" loading="lazy"></p><p>一般情况下是安装红线对应的recommend驱动，但是如果不是安装cuda10.2需要查看cuda版本和nvidia驱动版本是否对应。具体查看<a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html" target="_blank" rel="noopener noreferrer">CUDA Toolkit and Compatible Driver Versions</a>就有相关说明。</p><p>如下图所示，可以看到要安装的nvidia-driver-455符合cuda10.2的版本要求。</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/2.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>然后就是直接输入命令安装了，不需要自己下载驱动。命令如下：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo apt-get purge nvidia* </span></span>
<span class="line"><span>sudo add-apt-repository ppa:graphics-drivers/ppa </span></span>
<span class="line"><span>sudo apt-get update </span></span>
<span class="line"><span>sudo apt-get install nvidia-driver-455</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>应该是傻瓜式安装，安装完后直接重启系统。</p><blockquote><p>sudo reboot</p></blockquote><h2 id="_2-cuda10-2安装" tabindex="-1"><a class="header-anchor" href="#_2-cuda10-2安装"><span>2 CUDA10.2安装</span></a></h2><p>本文安装的是cuda10.2版本。进入<a href="https://developer.nvidia.com/cuda-toolkit-archive" target="_blank" rel="noopener noreferrer">CUDA历史版本下载页面</a>。进去后先点击要安装的版本页面，</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/3.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>打开版本页面后，选择系统和版本信息。这里选择runfile安装，如下所示：</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/4.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>这个cuda安装包国内下载可能会很慢，可以复制wget后面的下载链接，用迅雷、IDM等下载工具先行下载。</strong></p><p><strong>如果以上方式还是下载太慢或者下载失败，可以找找网上别人的分享镜像。</strong> 比如<a href="https://blog.csdn.net/xhamigua/article/details/107028062" target="_blank" rel="noopener noreferrer">CUDA下载分享</a>这篇文章(可能cuda版本不全)就有cuda百度网盘分享地址。如下：</p><blockquote><p>https://pan.baidu.com/s/14Qof5CVRUmeDMFgjBKGCjw 提取码：8488</p></blockquote><p>下载完成后直接输入</p><blockquote><p>sudo sh cuda_10.2.89_440.33.01_linux.run</p></blockquote><p><strong>在安装cuda的时候不要选择安装驱动，其他默认，就可以了。</strong></p><p>安装成功后再添加环境变量，先用vim命令打开~/.bashrc文件。再最后添加如下命令就行了：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>## cuda环境变量</span></span>
<span class="line"><span>export CUDA_HOME=/usr/local/cuda </span></span>
<span class="line"><span>export PATH=$PATH:$CUDA_HOME/bin </span></span>
<span class="line"><span>export LD_LIBRARY_PATH=/usr/local/cuda-10.0/lib64\${LD_LIBRARY_PATH:+:\${LD_LIBRARY_PATH}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当然可以看看是否安装成功，输入nvidia-smi看看显卡驱动是否安装成功，然后输入nvcc -V可以看到cuda版本。</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/5.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_3-cudnn安装" tabindex="-1"><a class="header-anchor" href="#_3-cudnn安装"><span>3 cudnn安装</span></a></h2><p>直接打开<a href="https://developer.nvidia.com/rdp/cudnn-archive" target="_blank" rel="noopener noreferrer">cudnn历史版本下载页面</a>选择对应的版本。一般来说cuda版本和cudnn版本并不是一一对应的。只要符合cuda版本要求的cudnn版本都行。</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/6.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>本文用的是7.6.5版本，下载需要注册账号，很容易搞定。然后点击其中的cuDNN library for Linux即可。</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/7.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>下载完成后，解压文件。进入解压后的cuda文件夹，输入以下命令，cudnn就算安装好了。</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sudo cp cuda/include/cudnn.h /usr/local/cuda/include/ </span></span>
<span class="line"><span>sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64/ </span></span>
<span class="line"><span>sudo chmod a+r /usr/local/cuda/include/cudnn.h </span></span>
<span class="line"><span>sudo chmod a+r /usr/local/cuda/lib64/libcudnn*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过以下命令查看cudnn版本：</p><blockquote><p>cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</p></blockquote><p>根据输出可以判断cudnn版本为7.6.5.</p><figure><img src="https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/[深度学习] ubuntu18.04配置深度学习环境笔记/image/8.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_4-参考" tabindex="-1"><a class="header-anchor" href="#_4-参考"><span>4 参考</span></a></h2><ul><li><p><a href="https://blog.csdn.net/qq_32408773/article/details/84112166" target="_blank" rel="noopener noreferrer">Ubuntu18.04安装CUDA10、CUDNN</a></p></li><li><p><a href="https://blog.csdn.net/abcdefg90876/article/details/105781005/" target="_blank" rel="noopener noreferrer">Ubuntu18.04+CUDA10.2 深度学习开发环境配置指南</a></p></li><li><p><a href="https://blog.csdn.net/qq_32408773/article/details/84111244" target="_blank" rel="noopener noreferrer">Ubuntu下安装INVIDIA显卡驱动（避免循环登录问题）</a></p></li><li><p><a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html" target="_blank" rel="noopener noreferrer">CUDA Toolkit and Compatible Driver Versions</a></p></li><li><p><a href="https://developer.nvidia.com/cuda-toolkit-archive" target="_blank" rel="noopener noreferrer">CUDA历史版本下载页面</a></p></li><li><p><a href="https://blog.csdn.net/xhamigua/article/details/107028062" target="_blank" rel="noopener noreferrer">CUDA下载分享</a></p></li><li><p><a href="https://developer.nvidia.com/rdp/cudnn-archive" target="_blank" rel="noopener noreferrer">cudnn历史版本下载页面</a></p></li></ul>`,42)]))}const c=a(r,[["render",u],["__file","2021-01-14-_深度学习_ ubuntu18.04配置深度学习环境笔记.html.vue"]]),o=JSON.parse('{"path":"/blog/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2021-01-14-_%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0_%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0.html","title":"[深度学习] ubuntu18.04配置深度学习环境笔记","lang":"zh-CN","frontmatter":{"date":"2021-01-14T20:12:18.000Z","category":["深度学习"],"tag":["深度学习","常用工具"],"description":"[深度学习] ubuntu18.04配置深度学习环境笔记 最近装过很多ubuntu18.04系统的nvidia驱动，cuda10.2，cudnn7.6.5，发现每次都会出现一些小问题。总结了具体步骤，做个记录。主要分为三个步骤：驱动安装，cuda安装，cudnn安装。本文主要参考了博客Ubuntu18.04安装CUDA10、CUDNN和Ubuntu18...","head":[["meta",{"property":"og:url","content":"https://luohenyueji.github.io/blog/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2021-01-14-_%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0_%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0.html"}],["meta",{"property":"og:site_name","content":"落痕月极的博客"}],["meta",{"property":"og:title","content":"[深度学习] ubuntu18.04配置深度学习环境笔记"}],["meta",{"property":"og:description","content":"[深度学习] ubuntu18.04配置深度学习环境笔记 最近装过很多ubuntu18.04系统的nvidia驱动，cuda10.2，cudnn7.6.5，发现每次都会出现一些小问题。总结了具体步骤，做个记录。主要分为三个步骤：驱动安装，cuda安装，cudnn安装。本文主要参考了博客Ubuntu18.04安装CUDA10、CUDNN和Ubuntu18..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/1.jpg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"深度学习"}],["meta",{"property":"article:tag","content":"常用工具"}],["meta",{"property":"article:published_time","content":"2021-01-14T20:12:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"[深度学习] ubuntu18.04配置深度学习环境笔记\\",\\"image\\":[\\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/1.jpg\\",\\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/2.jpg\\",\\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/3.jpg\\",\\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/4.jpg\\",\\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/5.jpg\\",\\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/6.jpg\\",\\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/7.jpg\\",\\"https://gitlab.com/luohenyueji/article_picture_warehouse/-/raw/main/CSDN/%5B%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%5D%20ubuntu18.04%E9%85%8D%E7%BD%AE%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E7%AC%94%E8%AE%B0/image/8.jpg\\"],\\"datePublished\\":\\"2021-01-14T20:12:18.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"落痕月极\\",\\"url\\":\\"/\\"}]}"]]},"headers":[{"level":2,"title":"1 nvidia驱动安装","slug":"_1-nvidia驱动安装","link":"#_1-nvidia驱动安装","children":[]},{"level":2,"title":"2 CUDA10.2安装","slug":"_2-cuda10-2安装","link":"#_2-cuda10-2安装","children":[]},{"level":2,"title":"3 cudnn安装","slug":"_3-cudnn安装","link":"#_3-cudnn安装","children":[]},{"level":2,"title":"4 参考","slug":"_4-参考","link":"#_4-参考","children":[]}],"git":{},"readingTime":{"minutes":4.53,"words":1358},"filePathRelative":"blog/深度学习/深度学习笔记/2021-01-14-[深度学习] ubuntu18.04配置深度学习环境笔记.md","localizedDate":"2021年1月15日","excerpt":"\\n<p>最近装过很多ubuntu18.04系统的nvidia驱动，cuda10.2，cudnn7.6.5，发现每次都会出现一些小问题。总结了具体步骤，做个记录。主要分为三个步骤：驱动安装，cuda安装，cudnn安装。本文主要参考了博客<a href=\\"https://blog.csdn.net/qq_32408773/article/details/84112166\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Ubuntu18.04安装CUDA10、CUDNN</a>和<a href=\\"https://blog.csdn.net/abcdefg90876/article/details/105781005/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Ubuntu18.04+CUDA10.2 深度学习开发环境配置指南</a>。本文也适用于其他linux系统安装不同版本cuda,cudnn。</p>","autoDesc":true}');export{c as comp,o as data};
